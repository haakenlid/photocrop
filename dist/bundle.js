!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.photocrop=t():e.photocrop=t()}(window,function(){return function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t,r){"use strict";e.exports=r(4)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var j=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var l=t.round=function(e){return Number(e.toPrecision(4))},P=function(e){return(100*e).toFixed(1)+"%"},c=t.normalize=function(e){var t=e.x,r=e.y,n=e.left,o=e.top,i=e.right,a=e.bottom,u=function(e,t){return e-t},s=[0,0,n,i,1,1].sort(u),l=[0,0,o,a,1,1].sort(u);return{x:[0,t,1].sort(u)[1],y:[0,r,1].sort(u)[1],left:s[2],top:l[2],right:s[3],bottom:l[3]}};t.minsize=function(l){return function(e){var t=e.left,r=e.right,n=e.top,o=e.bottom,i=e.x,a=e.y;if(r-t<l){var u=(t+r)/2;t=u-l/2,r=u+l/2}if(o-n<l){var s=(n+o)/2;n=s-l/2,o=s+l/2}return c({x:i,y:a,left:t,right:r,top:n,bottom:o})}},t.getStyles=function(e,t,r,n){var o,i,a,u,s,l,c,f,p,d,v,y,g,h,m,b,x=(o=t.x,i=t.y,a=t.left,u=t.right,s=t.top,l=t.bottom,c=n/r,d=(f=u-a)/(p=l-s),v=.5*Math.min(c,1,c<d?f:p*c),g=[f<2*v?[v,(a+u)/2,1-v]:[a+v,o,u-v],p<2*(y=v/c)?[y,(s+l)/2,1-y]:[s+y,i,l-y]].map(function(e){return e.sort(function(e,t){return e-t})[1]}),h=j(g,2),m=h[0],b=h[1],{left:m-v,right:m+v,top:b-y,bottom:b+y}),w=x.right,O=x.bottom,C=w-x.left;return{backgroundImage:'url("'+e+'")',backgroundPosition:[[C,w,1],[O-x.top,O,1]].map(function(e){return function(e,t,r){return r===e?.5:(t-e)/(r-e)}.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}).map(P).join(" "),backgroundRepeat:"no-repeat",backgroundSize:P(1/C)+" auto"}},t.getImageSize=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e([r.width,r.height])},r.onerror=t,r.src=n})},t.getRelativePosition=function(s){return function(e){var t,r,n=s.getBoundingClientRect(),o=n.left,i=n.top,a=n.width,u=n.height;return[(e.clientX-o)/a,(e.clientY-i)/u].map((t=0,r=1,function(e){return Math.max(t,Math.min(e,r))})).map(l)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=new Map([["1000","ew-resize"],["0010","ew-resize"],["0100","ns-resize"],["0001","ns-resize"],["1100","nw-resize"],["0110","ne-resize"],["0011","se-resize"],["1001","sw-resize"]]);t.cursors=Array.from(o).map(function(e){var t=n(e,2),r=t[0];return{name:r,key:r,cursor:t[1],mask:r.split("").map(parseFloat)}}),t.getCursor=function(e){return o.get(e.join(""))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=n(r(0)),s=n(r(6));function n(e){return e&&e.__esModule?e:{default:e}}r(11),t.default=function(e){var t=e.src,r=void 0===t?null:t,n=e.size,o=void 0===n?null:n,i=JSON.stringify({src:r,size:o});return u.default.createElement(s.default,a({},e,{key:i}))}},function(e,t,r){"use strict";var c=r(5),n="function"==typeof Symbol&&Symbol.for,f=n?Symbol.for("react.element"):60103,l=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,v=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,h="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,o,i,a,u){if(!e){if((e=void 0)===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[r,n,o,i,a,u],l=0;(e=Error(t.replace(/%s/g,function(){return s[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};function w(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||b}function O(){}function C(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&m("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=w.prototype;var j=C.prototype=new O;j.constructor=C,c(j,w.prototype),j.isPureReactComponent=!0;var P={current:null,currentDispatcher:null},S=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n=void 0,o={},i=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,n)&&!M.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:f,type:e,key:i,ref:a,props:o,_owner:P.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}var _=/\/+/g,A=[];function E(e,t,r,n){if(A.length){var o=A.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function B(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,A.length<10&&A.push(e)}function R(e,t,r){return null==e?0:function e(t,r,n,o){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var a=!1;if(null===t)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case f:case l:a=!0}}if(a)return n(o,t,""===r?"."+D(t,0):r),1;if(a=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var s=r+D(i=t[u],u);a+=e(i,s,n,o)}else if(s=null===t||"object"!=typeof t?null:"function"==typeof(s=h&&t[h]||t["@@iterator"])?s:null,"function"==typeof s)for(t=s.call(t),u=0;!(i=t.next()).done;)a+=e(i=i.value,s=r+D(i,u++),n,o);else"object"===i&&m("31","[object Object]"==(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return a}(e,"",t,r)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(r=e.key,n={"=":"=0",":":"=2"},"$"+(""+r).replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var r,n}function N(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,r){var n,o,i=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?H(e,i,r,function(e){return e}):null!=e&&(I(e)&&(o=a+(!(n=e).key||t&&t.key===e.key?"":(""+e.key).replace(_,"$&/")+"/")+r,e={$$typeof:f,type:n.type,key:o,ref:n.ref,props:n.props,_owner:n._owner}),i.push(e))}function H(e,t,r,n,o){var i="";null!=r&&(i=(""+r).replace(_,"$&/")+"/"),R(e,z,t=E(t,i,n,o)),B(t)}var L={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return H(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;R(e,N,t=E(null,null,t,r)),B(t)},count:function(e){return R(e,function(){return null},null)},toArray:function(e){var t=[];return H(e,t,null,function(e){return e}),t},only:function(e){return I(e)||m("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:C,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},Fragment:o,StrictMode:i,Suspense:v,createElement:k,cloneElement:function(e,t,r){null==e&&m("267",e);var n=void 0,o=c({},e.props),i=e.key,a=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,u=P.current),void 0!==t.key&&(i=""+t.key);var s=void 0;for(n in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)S.call(t,n)&&!M.hasOwnProperty(n)&&(o[n]=void 0===t[n]&&void 0!==s?s[n]:t[n])}if(1===(n=arguments.length-2))o.children=r;else if(1<n){s=Array(n);for(var l=0;l<n;l++)s[l]=arguments[l+2];o.children=s}return{$$typeof:f,type:e.type,key:i,ref:a,props:o,_owner:u}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:I,version:"16.7.0",unstable_ConcurrentMode:p,unstable_Profiler:a,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:P,assign:c}},T=L;e.exports=T.default||T},function(e,t,r){"use strict";var s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in r=Object(arguments[i]))l.call(r,a)&&(o[a]=r[a]);if(s){n=s(r);for(var u=0;u<n.length;u++)c.call(r,n[u])&&(o[n[u]]=r[n[u]])}}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),c=i(r(0)),R=r(1),D=r(2),f=i(r(7)),p=i(r(9)),o=i(r(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var u=function(){return null},s=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.setImageSize=function(){t.setState({size:null}),(0,R.getImageSize)(t.props.src).then(function(e){return t.setState({size:e})}).catch(function(e){return t.setState({error:!0})})},t.state={dragging:null,size:e.size,cropBox:(0,R.normalize)(e.value)},t.elementRef=function(e){return t.element=e},t.imageRef=function(e){return t.getRelativePosition=(0,R.getRelativePosition)(e)},t.onChange=function(){return t.props.onChange(t.state.cropBox)},t.onChanging=function(){return t.props.onChanging(t.state.cropBox)},t.startDragHandleFactory=t.startDragHandleFactory.bind(t),t.eventHandlers={startNewCrop:t.startNewCrop.bind(t),startMoveCross:t.startMoveCross.bind(t),startMoveCropBox:t.startMoveCropBox.bind(t),moveDragHandle:t.moveDragHandle.bind(t),endDragHandle:t.endDragHandle.bind(t)},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,c.default.Component),n(r,[{key:"componentDidMount",value:function(){this.setImageSize()}},{key:"componentDidUpdate",value:function(e){this.state.dragging||e.value==this.props.value||this.setState({cropBox:(0,R.normalize)(this.props.value)})}},{key:"moveDragHandle",value:function(e){var t,r;e.preventDefault(),e.stopPropagation();var n=this.state,o=n.cropBox,i=n.dragging,a=n.click;if(i&&e.pointerId==i.pointerId){var u=this.getRelativePosition(e),s=B(u,2),l=s[0],c=s[1],f=B(i.initialPosition,2),p=f[0],d=f[1],v=i.initialCrop,y=o.x,g=o.y,h=o.left,m=o.top,b=o.right,x=o.bottom,w=B(i.dragMask,5),O=w[0],C=w[1],j=w[2],P=w[3],S=w[4],M=l-p,k=c-d;if(S&&(y=l),S&&(g=c),O&&(h=l),C&&(m=c),j&&(b=l),P&&(x=c),O&&j&&C&&P&&(h=v.left+M,m=v.top+k,b=v.right+M,x=v.bottom+k),x<m&&(C=(t=[P,C])[0],P=t[1]),b<h&&(O=(r=[j,O])[0],j=r[1]),a==e.pointerId){if(!(.03<Math.abs(M)+Math.abs(k)))return;this.setState({click:null})}var I=[O,C,j,P,S],_=(0,D.getCursor)(I)||i.cursor,A={dragging:E({},i,{cursor:_,dragMask:I}),cropBox:(0,R.normalize)({x:y,y:g,left:h,top:m,right:b,bottom:x})};this.setState(A,this.onChanging)}}},{key:"startDragHandleFactory",value:function(n){var o=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"move";return function(e){var t=e.pointerId,r=o.getRelativePosition(e);e.preventDefault(),e.stopPropagation(),o.element.setPointerCapture(t),clearTimeout(o.timeout),o.timeout=setTimeout(function(){return o.setState(function(e){return E({},e,{dragging:{dragMask:n,cursor:i,pointerId:t,initialPosition:r,initialCrop:e.cropBox}})})})}}},{key:"endDragHandle",value:function(e){if(clearTimeout(this.timeout),this.state.click==e.pointerId){var t=this.getRelativePosition(e),r=B(t,2),n=r[0],o=r[1];this.setState(function(e){var t=e.cropBox,r=a(e,["cropBox"]);return E({},r,{cropBox:E({},t,{x:n,y:o}),click:null})})}this.setState(function(e){var t=e.cropBox,r=a(e,["cropBox"]);return E({},r,{cropBox:(0,R.minsize)(.1)(t),dragging:null})},this.onChange)}},{key:"startMoveCropBox",value:function(e){var t=this,r=e.pointerId;this.setState({click:r});setTimeout(function(){return t.state.click==r&&t.setState({click:null})},300),this.startDragHandleFactory([1,1,1,1,0])(e)}},{key:"startMoveCross",value:function(e){var t=this.getRelativePosition(e),r=B(t,2),n=r[0],o=r[1];this.setState(function(e){return E({},e,{cropBox:E({},e.cropBox,{x:n,y:o})})},this.onChanging),this.startDragHandleFactory([0,0,0,0,1],"crosshair")(e)}},{key:"startNewCrop",value:function(e){var t=this.getRelativePosition(e),r=B(t,2),n=r[0],o=r[1],i={left:n,right:n,top:o,bottom:o};this.setState({cropBox:E({},this.state.cropBox,i)}),this.startDragHandleFactory([1,1,0,0],"move")(e)}},{key:"render",value:function(){var e=this.props,t=e.src,r=e.previews,n=e.Loader,o=this.state,i=o.error,a=o.size,u=o.dragging,s=o.cropBox,l=E({src:t,size:a,dragging:u,cropBox:s,imageRef:this.imageRef,elementRef:this.elementRef,startDragHandleFactory:this.startDragHandleFactory},this.eventHandlers);return a?c.default.createElement("div",{className:"CropBoxContainer"},0<r.length&&c.default.createElement(p.default,{aspects:r,size:a,src:t,cropBox:s}),c.default.createElement(f.default,l)):c.default.createElement("div",{className:"CropBoxContainer"},i&&c.default.createElement(n,{error:!0}))}}]),r}();s.defaultProps={Loader:function(e){var t=e.error;return c.default.createElement("img",{style:{background:t?"red":"black"},src:o.default})},value:{left:.1,right:.9,top:.1,bottom:.9,x:.5,y:.5},src:o.default,previews:[],onChange:u,onChanging:u},t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=n(r(0)),v=n(r(8));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.src,r=e.imageRef,n=e.elementRef,o=(e.error,e.size),i=e.dragging,a=e.cropBox,u=e.moveDragHandle,s=e.endDragHandle,l=e.startNewCrop,c=e.startMoveCross,f=e.startMoveCropBox,p=e.startDragHandleFactory;return d.default.createElement("div",{ref:n,onPointerMove:u,onLostPointerCapture:s,onPointerUp:s,className:"CropBox"},d.default.createElement("svg",{height:"100%",preserveAspectRatio:"xMidYMin",viewBox:"0 0 "+o[0]+" "+o[1]},d.default.createElement("image",{className:"masterImg",xlinkHref:t,ref:r,width:"100%",height:"100%"}),d.default.createElement(v.default,{cropBox:a,size:o,dragging:i,startNewCrop:l,startMoveCross:c,startMoveCropBox:f,startDragHandleFactory:p})))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0),b=(n=o)&&n.__esModule?n:{default:n},x=r(2);var w=function(e){e.name;var t=e.cursor,r=e.mask,n=e.startDragHandleFactory,o=e.handleSize,i=void 0===o?.2:o;return b.default.createElement("rect",{className:"Handle",onPointerDown:n(r,t),width:1-r[0]-r[2]+i,height:1-r[1]-r[3]+i,x:r[2]-i/2,y:r[3]-i/2,style:{cursor:t}})},O=function(e){var t=e.x,r=e.y;return b.default.createElement(b.default.Fragment,null,b.default.createElement("path",{className:"cross shadow",d:"M0, "+r+"H1M"+t+", 0V1"}),b.default.createElement("path",{className:"cross",d:"M0, "+r+"H1M"+t+", 0V1"}))};t.default=function(e){var t,r=e.size,n=e.pending,o=e.cropBox,i=e.startDragHandleFactory,a=e.startMoveCross,u=e.startMoveCropBox,s=e.startNewCrop,l=e.dragging,c=o.left,f=o.x,p=o.right,d=o.top,v=o.y,y=o.bottom,g="M"+c+", "+d+"V"+y+"H"+p+"V"+d+"Z",h=l?{cursor:l.cursor}:{};return b.default.createElement("svg",{style:h},b.default.createElement("svg",{className:"Overlay",viewBox:"0 0 1 1",preserveAspectRatio:"none",height:"100%",width:"100%","touch-action":"none"},b.default.createElement("path",{className:"outside",fillRule:"evenodd",d:"M0, 0H1V1H0Z"+g,onPointerDown:s}),b.default.createElement("g",{className:"inside"+(n?" pending":"")},b.default.createElement("path",{onPointerDown:u,className:"box",d:g}),l?null:b.default.createElement("svg",{className:"handles",viewBox:"0 0 1 1",preserveAspectRatio:"none",height:y-d,width:p-c,x:c,y:d},x.cursors.map(function(e){return b.default.createElement(w,m({},e,{startDragHandleFactory:i}))}))),b.default.createElement("g",{className:"centerPoint"},l?null:b.default.createElement("ellipse",m({className:"Handle",onPointerDown:a,cx:f,cy:v},{rx:t=.05,ry:t*r[0]/r[1]||t})),b.default.createElement(O,{x:f,y:v}))))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0),s=(n=o)&&n.__esModule?n:{default:n},l=r(1);var c=function(e){var t=e.src,r=e.cropBox,n=e.size,o=e.aspect,i=e.style,a=void 0===i?{}:i,u=(0,l.getStyles)(t,r,n[0]/n[1],o);u.backgroundPosition,u.backgroundSize;return s.default.createElement("div",{className:"PreviewImg",style:a},s.default.createElement("svg",{style:u,viewBox:"0 0 "+2*o+" 2"}))};t.default=function(e){var t=e.aspects,r=void 0===t?[2]:t,n=e.flexDirection,o=void 0===n?"row":n,i=function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["aspects","flexDirection"]),a=Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r));return s.default.createElement("div",{className:"CropPreview",key:r,style:{flexDirection:o}},r.map(function(e,t){return s.default.createElement(c,u({key:t,aspect:e,style:{flexGrow:e/a}},i))}))}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA2MDAgNDAwIiA+CiAgPHN2ZyB3aWR0aD0iNTAlIiB4PSI1MCUiIG92ZXJmbG93PSJ2aXNpYmxlIiB2aWV3Qm94PSIwIDAgMTAwIDgwIiA+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTAgMCkiIGZpbGw9ImJsYWNrIiBvcGFjaXR5PSIwLjQiPiAKICAgICA8cGF0aCAgZD0ibTAgMHY4MGgxMDB2LTgwem05MS45IDcxLjNoLTgzLjR2LTYyLjZoODMuNHoiLz4KICAgICA8cGF0aCAgZD0ibTU2LjEgMjguOWwtMjAuMyAyMS44LTYuOC0zLTE3LjMgMTguOGg3Ni43bC0yMC4zLTMwLTMuOCAyLjItOC4yLTkuOHoiLz4KICAgICA8Y2lyY2xlIHI9IjcuNSIgY3k9IjI0LjUiIGN4PSIzMi44Ii8+IAogICAgPC9nPgogIDwvc3ZnPgo8L3N2Zz4K"},function(e,t,r){var n=r(12);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(14)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(13)(!1)).push([e.i,"body {\n  margin: 0; }\n\n@keyframes marching_ants {\n  0% {\n    stroke-dashoffset: 0; }\n  100% {\n    stroke-dashoffset: 12; } }\n\n.Overlay .inside.pending .box {\n  animation: marching_ants 0.5s steps(10) infinite;\n  stroke-dasharray: 6; }\n\n.Overlay {\n  touch-action: none;\n  overflow: visible;\n  height: 100%;\n  z-index: 10;\n  shape-rendering: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0; }\n  .Overlay path,\n  .Overlay rect,\n  .Overlay ellipse {\n    vector-effect: non-scaling-stroke;\n    shape-rendering: crispEdges;\n    fill: transparent; }\n  .Overlay .outside {\n    fill: rgba(0, 0, 0, 0.5); }\n  .Overlay .centerPoint {\n    position: relative; }\n    .Overlay .centerPoint .Handle {\n      cursor: crosshair; }\n    .Overlay .centerPoint .cross {\n      stroke: rgba(255, 255, 0, 0.6);\n      pointer-events: none; }\n      .Overlay .centerPoint .cross.shadow {\n        stroke-width: 3px;\n        stroke: rgba(0, 0, 0, 0.05); }\n  .Overlay .inside .box {\n    stroke: rgba(255, 255, 255, 0.4); }\n  .Overlay .inside.pending .box {\n    stroke: white;\n    stroke-width: 2px; }\n  .Overlay .inside .handles {\n    overflow: visible; }\n  .Overlay .Handle {\n    stroke: blue;\n    stroke-width: 0;\n    fill: red;\n    opacity: 0; }\n    @media (hover: none) {\n      .Overlay .Handle {\n        stroke-width: 1rem; } }\n\n.CropBoxContainer {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%; }\n  .CropBoxContainer .CropBox {\n    flex: 1 1 0;\n    display: flex;\n    flex-direction: column; }\n    .CropBoxContainer .CropBox > svg {\n      flex: 1 1 0; }\n  .CropBoxContainer .CropPreview {\n    flex-shrink: 0;\n    max-height: 50%; }\n\n.CropPreview {\n  display: flex;\n  margin-left: -0.4rem;\n  margin-bottom: 0.4rem; }\n  .CropPreview .PreviewImg {\n    flex-basis: 0;\n    margin-left: 0.4rem; }\n    .CropPreview .PreviewImg > svg {\n      margin: 0 auto;\n      display: block;\n      height: 100%; }\n",""])},function(e,t,r){"use strict";e.exports=function(r){var a=[];return a.toString=function(){return this.map(function(e){var t=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var a;return[r].join("\n")}(e,r);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];null!=o&&(r[o]=!0)}for(n=0;n<e.length;n++){var i=e[n];null!=i[0]&&r[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}},function(e,t,n){var r,o,i,s={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=(i={},function(e,t){if("function"==typeof e)return e();if(void 0===i[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}i[e]=r}return i[e]}),c=null,f=0,u=[],p=n(15);function d(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=s[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(b(n.parts[i],t))}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(b(n.parts[i],t));s[n.id]={id:n.id,refs:1,parts:a}}}}function v(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(u):r.push(n[a]={id:a,parts:[u]})}return r}function y(e,t){var r=a(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),u.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertAt.before,r);r.insertBefore(t,o)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);0<=t&&u.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),y(e,t),t}function m(t,r){Object.keys(r).forEach(function(e){t.setAttribute(e,r[e])})}function b(t,e){var r,n,o,i,a,u;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var s=f++;r=c||(c=h(e)),n=O.bind(null,r,s,!1),o=O.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=e,u=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",m(u,a.attrs),y(a,u),n=function(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=p(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}.bind(null,r=u,e),o=function(){g(r),r.href&&URL.revokeObjectURL(r.href)}):(r=h(e),n=function(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),o=function(){g(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=l()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var u=v(e,a);return d(u,a),function(e){for(var t=[],r=0;r<u.length;r++){var n=u[r];(o=s[n.id]).refs--,t.push(o)}e&&d(v(e,a),a);for(r=0;r<t.length;r++){var o;if(0===(o=t[r]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete s[o.id]}}}};var x,w=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function O(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,i=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,n=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?e:(r=0===n.indexOf("//")?n:0===n.indexOf("/")?o+n:i+n.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}}])});